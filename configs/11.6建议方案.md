太好了，这个结果很关键：从 Nginx 容器里用服务名能连通后端，但 /health 返回 404。
说明网络 OK、后端在跑，只是路由前缀对不齐，这正是你登录时报 404 的根因。

给你两个等价的修法，选一个就行（改动都很小）：

方案 A：在 Nginx 里把 /api 前缀剥掉

后端如果实际路由是 /v1/...（没有 /api），就把 /api/ 映射到后端根：

# 用服务名，不要硬编码 172.x IP
upstream phoenix_api { server phoenix-backend:8000; }

server {
    server_name platform.smartview.top;

    location /api/ {
        # 注意末尾斜杠！会把 /api/ 前缀去掉再转发
        proxy_pass http://phoenix_api/;

        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_http_version 1.1;
    }
}